{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ title }}</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-grid.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-theme-alpine.css">

        <script src="https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.js"></script> 
        <!-- <script src="https://cdn.jsdelivr.net/npm/ag-grid-enterprise@35.1.0/dist/ag-grid-enterprise.min.js"></script> -->
    </head>


    <body>
        {% include "home/alert_handler.html" %}
        {% include "home/side_bar.html" %}  

        <div class="main-content" style="margin-left: 15%;">
            <h1 class="text-center mt-4 mb-4"> Admin Stuff </h1>
        </div>

        <div class="main-content" style="margin-left: 15%; padding: 2%; width: 85%; box-sizing: border-box;">
            <div id = "border_around_all_main_stuff" class = "p-4 border-2 border-gray-200 border-dashed rounded-lg dark:border-gray-700">

                <div class="row" id="first_display_row"> 

                    <div id="table" class="ag-theme-alpine" style="height: 60vh; width: 100%;"></div>

                </div>
            </div>




        </div>



        
    </body>

    {{ logs_data|json_script:"logs-data" }}
    {{ logs_columns|json_script:"logs-columns" }}

    <script>

        const logsGridElement = document.querySelector('#table');
        const logsData = JSON.parse(document.getElementById('logs-data').textContent);
        const logsColumns = JSON.parse(document.getElementById('logs-columns').textContent);

        const logsColumnDefs = logsColumns.map((column) => ({
            field: column,
            flex: 1,
            filter: true,
        }));

        const gridOptions = {
            rowData: logsData,
            columnDefs: logsColumnDefs,
            defaultColDef: {
                flex: 1,
                filter: true,
            },
        };

        agGrid.createGrid(logsGridElement, gridOptions);

    </script>

</html>